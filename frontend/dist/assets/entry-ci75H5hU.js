import{c as u,g as qr}from"./index-eYoitwPO.js";function Xr(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var It={exports:{}},je={};u.crypto&&u.crypto.getRandomValues?je.randomBytes=function(e){var t=new Uint8Array(e);return u.crypto.getRandomValues(t),t}:je.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t};var Br=je,nt="abcdefghijklmnopqrstuvwxyz012345",q={string:function(e){for(var t=nt.length,r=Br.randomBytes(e),n=[],i=0;i<e;i++)n.push(nt.substr(r[i]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}};(function(e){var t=q,r={},n=!1,i=u.chrome&&u.chrome.app&&u.chrome.app.runtime;e.exports={attachEvent:function(s,a){typeof u.addEventListener<"u"?u.addEventListener(s,a,!1):u.document&&u.attachEvent&&(u.document.attachEvent("on"+s,a),u.attachEvent("on"+s,a))},detachEvent:function(s,a){typeof u.addEventListener<"u"?u.removeEventListener(s,a,!1):u.document&&u.detachEvent&&(u.document.detachEvent("on"+s,a),u.detachEvent("on"+s,a))},unloadAdd:function(s){if(i)return null;var a=t.string(8);return r[a]=s,n&&setTimeout(this.triggerUnloadCallbacks,0),a},unloadDel:function(s){s in r&&delete r[s]},triggerUnloadCallbacks:function(){for(var s in r)r[s](),delete r[s]}};var o=function(){n||(n=!0,e.exports.triggerUnloadCallbacks())};i||e.exports.attachEvent("unload",o)})(It);var A=It.exports,Mr=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},De={},Dr=Object.prototype.hasOwnProperty,Hr;function it(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function ot(e){try{return encodeURIComponent(e)}catch{return null}}function Wr(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var i=it(n[1]),o=it(n[2]);i===null||o===null||i in r||(r[i]=o)}return r}function Jr(e,t){t=t||"";var r=[],n,i;typeof t!="string"&&(t="?");for(i in e)if(Dr.call(e,i)){if(n=e[i],!n&&(n===null||n===Hr||isNaN(n))&&(n=""),i=ot(i),n=ot(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?t+r.join("&"):""}De.stringify=Jr;De.parse=Wr;var Rt=Mr,he=De,Fr=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Ct=/[\n\r\t]/g,Gr=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,jt=/:\d+$/,zr=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Qr=/^[a-zA-Z]:/;function He(e){return(e||"").toString().replace(Fr,"")}var Ae=[["#","hash"],["?","query"],function(t,r){return _(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],st={hash:1,query:1};function At(e){var t;typeof window<"u"?t=window:typeof u<"u"?t=u:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},i=typeof e,o;if(e.protocol==="blob:")n=new S(unescape(e.pathname),{});else if(i==="string"){n=new S(e,{});for(o in st)delete n[o]}else if(i==="object"){for(o in e)o in st||(n[o]=e[o]);n.slashes===void 0&&(n.slashes=Gr.test(e.href))}return n}function _(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Nt(e,t){e=He(e),e=e.replace(Ct,""),t=t||{};var r=zr.exec(e),n=r[1]?r[1].toLowerCase():"",i=!!r[2],o=!!r[3],s=0,a;return i?o?(a=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(a=r[2]+r[4],s=r[2].length):o?(a=r[3]+r[4],s=r[3].length):a=r[4],n==="file:"?s>=2&&(a=a.slice(2)):_(n)?a=r[4]:n?i&&(a=a.slice(2)):s>=2&&_(t.protocol)&&(a=r[4]),{protocol:n,slashes:i||_(n),slashesCount:s,rest:a}}function Vr(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,s=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),s++):s&&(n===0&&(o=!0),r.splice(n,1),s--);return o&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function S(e,t,r){if(e=He(e),e=e.replace(Ct,""),!(this instanceof S))return new S(e,t,r);var n,i,o,s,a,c,f=Ae.slice(),d=typeof t,l=this,v=0;for(d!=="object"&&d!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=he.parse),t=At(t),i=Nt(e||"",t),n=!i.protocol&&!i.slashes,l.slashes=i.slashes||n&&t.slashes,l.protocol=i.protocol||t.protocol||"",e=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||Qr.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!_(l.protocol)))&&(f[3]=[/(.*)/,"pathname"]);v<f.length;v++){if(s=f[v],typeof s=="function"){e=s(e,l);continue}o=s[0],c=s[1],o!==o?l[c]=e:typeof o=="string"?(a=o==="@"?e.lastIndexOf(o):e.indexOf(o),~a&&(typeof s[2]=="number"?(l[c]=e.slice(0,a),e=e.slice(a+s[2])):(l[c]=e.slice(a),e=e.slice(0,a)))):(a=o.exec(e))&&(l[c]=a[1],e=e.slice(0,a.index)),l[c]=l[c]||n&&s[3]&&t[c]||"",s[4]&&(l[c]=l[c].toLowerCase())}r&&(l.query=r(l.query)),n&&t.slashes&&l.pathname.charAt(0)!=="/"&&(l.pathname!==""||t.pathname!=="")&&(l.pathname=Vr(l.pathname,t.pathname)),l.pathname.charAt(0)!=="/"&&_(l.protocol)&&(l.pathname="/"+l.pathname),Rt(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.indexOf(":"),~a?(l.username=l.auth.slice(0,a),l.username=encodeURIComponent(decodeURIComponent(l.username)),l.password=l.auth.slice(a+1),l.password=encodeURIComponent(decodeURIComponent(l.password))):l.username=encodeURIComponent(decodeURIComponent(l.auth)),l.auth=l.password?l.username+":"+l.password:l.username),l.origin=l.protocol!=="file:"&&_(l.protocol)&&l.host?l.protocol+"//"+l.host:"null",l.href=l.toString()}function Zr(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||he.parse)(t)),n[e]=t;break;case"port":n[e]=t,Rt(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,jt.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var i=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==i?i+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(n.username=t.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var s=0;s<Ae.length;s++){var a=Ae[s];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&_(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function Kr(e){(!e||typeof e!="function")&&(e=he.stringify);var t,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(r.protocol&&r.slashes||_(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&_(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||jt.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(o+=r.hash),o}S.prototype={set:Zr,toString:Kr};S.extractProtocol=Nt;S.location=At;S.trimLeft=He;S.qs=he;var kt=S,Yr=kt,y={getOrigin:function(e){if(!e)return null;var t=new Yr(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},Ne={exports:{}};typeof Object.create=="function"?Ne.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ne.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var p=Ne.exports,m={};function pe(){this._listeners={}}pe.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r};pe.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);if(n!==-1){r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e];return}}};pe.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],i=0;i<n.length;i++)n[i].apply(this,r)};var Lt=pe,en=p,de=Lt;function j(){de.call(this)}en(j,de);j.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};j.prototype.once=function(e,t){var r=this,n=!1;function i(){r.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}this.on(e,i)};j.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),i=1;i<r;i++)n[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,n)}};j.prototype.on=j.prototype.addListener=de.prototype.addEventListener;j.prototype.removeListener=de.prototype.removeEventListener;m.EventEmitter=j;var ke={exports:{}},at=u.WebSocket||u.MozWebSocket;at?ke.exports=function(t){return new at(t)}:ke.exports=void 0;var tn=ke.exports,Pt=A,rn=y,nn=p,Ut=m.EventEmitter,qt=tn,ut=function(){};function C(e,t,r){if(!C.enabled())throw new Error("Transport created when disabled");Ut.call(this);var n=this,i=rn.addPath(e,"/websocket");i.slice(0,5)==="https"?i="wss"+i.slice(5):i="ws"+i.slice(4),this.url=i,this.ws=new qt(this.url,[],r),this.ws.onmessage=function(o){ut("message event",o.data),n.emit("message",o.data)},this.unloadRef=Pt.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(o){ut("close event",o.code,o.reason),n.emit("close",o.code,o.reason),n._cleanup()},this.ws.onerror=function(o){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}nn(C,Ut);C.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};C.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};C.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),Pt.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};C.enabled=function(){return!!qt};C.transportName="websocket";C.roundTrips=2;var on=C,sn=p,Xt=m.EventEmitter,an=function(){};function k(e,t){Xt.call(this),this.sendBuffer=[],this.sender=t,this.url=e}sn(k,Xt);k.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};k.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};k.prototype.sendSchedule=function(){an("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(r){e.sendStop=null,r?(e.emit("close",r.code||1006,"Sending error: "+r),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};k.prototype._cleanup=function(){this.removeAllListeners()};k.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var un=k,ln=p,Bt=m.EventEmitter,cn=function(){};function me(e,t,r){Bt.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}ln(me,Bt);me.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(r){e.emit("message",r)}),t.once("close",function(r,n){cn("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(n==="network"?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))})};me.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var fn=me,hn=p,pn=y,We=un,dn=fn;function Je(e,t,r,n,i){var o=pn.addPath(e,t),s=this;We.call(this,e,r),this.poll=new dn(n,o,i),this.poll.on("message",function(a){s.emit("message",a)}),this.poll.once("close",function(a,c){s.poll=null,s.emit("close",a,c),s.close()})}hn(Je,We);Je.prototype.close=function(){We.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var Mt=Je,mn=p,vn=y,Dt=Mt;function gn(e){return function(t,r,n){var i={};typeof r=="string"&&(i.headers={"Content-type":"text/plain"});var o=vn.addPath(t,"/xhr_send"),s=new e("POST",o,r,i);return s.once("finish",function(a){if(s=null,a!==200&&a!==204)return n(new Error("http status "+a));n()}),function(){s.close(),s=null;var a=new Error("Aborted");a.code=1e3,n(a)}}}function Ht(e,t,r,n){Dt.call(this,e,t,gn(n),r,n)}mn(Ht,Dt);var X=Ht,bn=p,Wt=m.EventEmitter;function Q(e,t){Wt.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,i){r._chunkHandler(n,i),r.xo=null;var o=n===200?"network":"permanent";r.emit("close",null,o),r._cleanup()})}bn(Q,Wt);Q.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var i=n.slice(0,r);i&&this.emit("message",i)}};Q.prototype._cleanup=function(){this.removeAllListeners()};Q.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var ve=Q,Jt=m.EventEmitter,yn=p,Ft=A,wn=y,F=u.XMLHttpRequest,Ee=function(){};function $(e,t,r,n){var i=this;Jt.call(this),setTimeout(function(){i._start(e,t,r,n)},0)}yn($,Jt);$.prototype._start=function(e,t,r,n){var i=this;try{this.xhr=new F}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=wn.addQuery(t,"t="+ +new Date),this.unloadRef=Ft.unloadAdd(function(){i._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Ee("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&$.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var o in n.headers)this.xhr.setRequestHeader(o,n.headers[o]);this.xhr.onreadystatechange=function(){if(i.xhr){var s=i.xhr,a,c;switch(Ee("readyState",s.readyState),s.readyState){case 3:try{c=s.status,a=s.responseText}catch{}c===1223&&(c=204),c===200&&a&&a.length>0&&i.emit("chunk",c,a);break;case 4:c=s.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Ee("finish",c,s.responseText),i.emit("finish",c,s.responseText),i._cleanup(!1);break}}};try{i.xhr.send(r)}catch{i.emit("finish",0,""),i._cleanup(!1)}};$.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),Ft.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};$.prototype.close=function(){this._cleanup(!0)};$.enabled=!!F;var lt=["Active"].concat("Object").join("X");!$.enabled&&lt in u&&(F=function(){try{return new u[lt]("Microsoft.XMLHTTP")}catch{return null}},$.enabled=!!new F);var Gt=!1;try{Gt="withCredentials"in new F}catch{}$.supportsCORS=Gt;var zt=$,En=p,fe=zt;function Fe(e,t,r,n){fe.call(this,e,t,r,n)}En(Fe,fe);Fe.enabled=fe.enabled&&fe.supportsCORS;var ge=Fe,_n=p,Ge=zt;function ze(e,t,r){Ge.call(this,e,t,r,{noCredentials:!0})}_n(ze,Ge);ze.enabled=Ge.enabled;var V=ze,Z={isOpera:function(){return u.navigator&&/opera/i.test(u.navigator.userAgent)},isKonqueror:function(){return u.navigator&&/konqueror/i.test(u.navigator.userAgent)},hasDomain:function(){if(!u.document)return!0;try{return!!u.document.domain}catch{return!1}}},xn=p,Qt=X,Sn=ve,Le=ge,$n=V,On=Z;function B(e){if(!$n.enabled&&!Le.enabled)throw new Error("Transport created when disabled");Qt.call(this,e,"/xhr_streaming",Sn,Le)}xn(B,Qt);B.enabled=function(e){return e.nullOrigin||On.isOpera()?!1:Le.enabled};B.transportName="xhr-streaming";B.roundTrips=2;B.needBody=!!u.document;var Tn=B,Vt=m.EventEmitter,In=p,Zt=A,Rn=Z,Cn=y,jn=function(){};function L(e,t,r){var n=this;Vt.call(this),setTimeout(function(){n._start(e,t,r)},0)}In(L,Vt);L.prototype._start=function(e,t,r){var n=this,i=new u.XDomainRequest;t=Cn.addQuery(t,"t="+ +new Date),i.onerror=function(){n._error()},i.ontimeout=function(){n._error()},i.onprogress=function(){jn("progress",i.responseText),n.emit("chunk",200,i.responseText)},i.onload=function(){n.emit("finish",200,i.responseText),n._cleanup(!1)},this.xdr=i,this.unloadRef=Zt.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};L.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};L.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Zt.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};L.prototype.close=function(){this._cleanup(!0)};L.enabled=!!(u.XDomainRequest&&Rn.hasDomain());var Qe=L,An=p,Kt=X,Nn=ve,Pe=Qe;function K(e){if(!Pe.enabled)throw new Error("Transport created when disabled");Kt.call(this,e,"/xhr_streaming",Nn,Pe)}An(K,Kt);K.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Pe.enabled&&e.sameScheme};K.transportName="xdr-streaming";K.roundTrips=2;var Yt=K,er=u.EventSource,kn=p,tr=m.EventEmitter,Ln=er,ct=function(){};function Y(e){tr.call(this);var t=this,r=this.es=new Ln(e);r.onmessage=function(n){ct("message",n.data),t.emit("message",decodeURI(n.data))},r.onerror=function(n){ct("error",r.readyState);var i=r.readyState!==2?"network":"permanent";t._cleanup(),t._close(i)}}kn(Y,tr);Y.prototype.abort=function(){this._cleanup(),this._close("user")};Y.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Y.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var Pn=Y,Un=p,rr=X,qn=Pn,Xn=ge,Bn=er;function M(e){if(!M.enabled())throw new Error("Transport created when disabled");rr.call(this,e,"/eventsource",qn,Xn)}Un(M,rr);M.enabled=function(){return!!Bn};M.transportName="eventsource";M.roundTrips=2;var ft=M,_e,ht;function nr(){return ht||(ht=1,_e="1.6.1"),_e}var ir={exports:{}};(function(e){var t=A,r=Z;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in u||(u[e.exports.WPrefix]={})},postMessage:function(n,i){u.parent!==u&&u.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:n,data:i||""}),"*")},createIframe:function(n,i){var o=u.document.createElement("iframe"),s,a,c=function(){clearTimeout(s);try{o.onload=null}catch{}o.onerror=null},f=function(){o&&(c(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),t.unloadDel(a))},d=function(v){o&&(f(),i(v))},l=function(v,T){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(v,T)}catch{}},0)};return o.src=n,o.style.display="none",o.style.position="absolute",o.onerror=function(){d("onerror")},o.onload=function(){clearTimeout(s),s=setTimeout(function(){d("onload timeout")},2e3)},u.document.body.appendChild(o),s=setTimeout(function(){d("timeout")},15e3),a=t.unloadAdd(f),{post:l,cleanup:f,loaded:c}},createHtmlfile:function(n,i){var o=["Active"].concat("Object").join("X"),s=new u[o]("htmlfile"),a,c,f,d=function(){clearTimeout(a),f.onerror=null},l=function(){s&&(d(),t.unloadDel(c),f.parentNode.removeChild(f),f=s=null,CollectGarbage())},v=function(I){s&&(l(),i(I))},T=function(I,se){try{setTimeout(function(){f&&f.contentWindow&&f.contentWindow.postMessage(I,se)},0)}catch{}};s.open(),s.write('<html><script>document.domain="'+u.document.domain+'";<\/script></html>'),s.close(),s.parentWindow[e.exports.WPrefix]=u[e.exports.WPrefix];var E=s.createElement("div");return s.body.appendChild(E),f=s.createElement("iframe"),E.appendChild(f),f.src=n,f.onerror=function(){v("onerror")},a=setTimeout(function(){v("timeout")},15e3),c=t.unloadAdd(l),{post:T,cleanup:l,loaded:d}}},e.exports.iframeEnabled=!1,u.document&&(e.exports.iframeEnabled=(typeof u.postMessage=="function"||typeof u.postMessage=="object")&&!r.isKonqueror())})(ir);var ee=ir.exports,Mn=p,or=m.EventEmitter,Dn=nr(),Ue=y,sr=ee,ar=A,Hn=q,D=function(){};function O(e,t,r){if(!O.enabled())throw new Error("Transport created when disabled");or.call(this);var n=this;this.origin=Ue.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=Hn.string(8);var i=Ue.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=sr.createIframe(i,function(o){n.emit("close",1006,"Unable to load an iframe ("+o+")"),n.close()}),this.onmessageCallback=this._message.bind(this),ar.attachEvent("message",this.onmessageCallback)}Mn(O,or);O.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){ar.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};O.prototype._message=function(e){if(D("message",e.data),!Ue.isOriginEqual(e.origin,this.origin)){D("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{D("bad json",e.data);return}if(t.windowId!==this.windowId){D("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Dn,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch{D("bad json",t.data);return}this.emit("close",r[0],r[1]),this.close();break}};O.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};O.prototype.send=function(e){this.postMessage("m",e)};O.enabled=function(){return sr.iframeEnabled};O.transportName="iframe";O.roundTrips=2;var ur=O,Ve={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},Wn=p,ae=ur,Jn=Ve,xe=function(e){function t(r,n){ae.call(this,e.transportName,r,n)}return Wn(t,ae),t.enabled=function(r,n){if(!u.document)return!1;var i=Jn.extend({},n);return i.sameOrigin=!0,e.enabled(i)&&ae.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=ae.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},Fn=p,N=ee,Gn=y,lr=m.EventEmitter,zn=q,Qn=function(){};function w(e){lr.call(this);var t=this;N.polluteGlobalNamespace(),this.id="a"+zn.string(6),e=Gn.addQuery(e,"c="+decodeURIComponent(N.WPrefix+"."+this.id)),Qn("using htmlfile",w.htmlfileEnabled);var r=w.htmlfileEnabled?N.createHtmlfile:N.createIframe;u[N.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(n){t.emit("message",n)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=r(e,function(){t._cleanup(),t._close("permanent")})}Fn(w,lr);w.prototype.abort=function(){this._cleanup(),this._close("user")};w.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete u[N.WPrefix][this.id]};w.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};w.htmlfileEnabled=!1;var pt=["Active"].concat("Object").join("X");if(pt in u)try{w.htmlfileEnabled=!!new u[pt]("htmlfile")}catch{}w.enabled=w.htmlfileEnabled||N.iframeEnabled;var Vn=w,Zn=p,qe=Vn,Kn=V,cr=X;function te(e){if(!qe.enabled)throw new Error("Transport created when disabled");cr.call(this,e,"/htmlfile",qe,Kn)}Zn(te,cr);te.enabled=function(e){return qe.enabled&&e.sameOrigin};te.transportName="htmlfile";te.roundTrips=2;var dt=te,Yn=p,fr=X,ei=ve,Xe=ge,hr=V;function re(e){if(!hr.enabled&&!Xe.enabled)throw new Error("Transport created when disabled");fr.call(this,e,"/xhr",ei,Xe)}Yn(re,fr);re.enabled=function(e){return e.nullOrigin?!1:hr.enabled&&e.sameOrigin?!0:Xe.enabled};re.transportName="xhr-polling";re.roundTrips=2;var mt=re,ti=p,pr=X,ri=Yt,ni=ve,vt=Qe;function ne(e){if(!vt.enabled)throw new Error("Transport created when disabled");pr.call(this,e,"/xhr",ni,vt)}ti(ne,pr);ne.enabled=ri.enabled;ne.transportName="xdr-polling";ne.roundTrips=2;var ii=ne,W=ee,dr=q,oi=Z,si=y,ai=p,mr=m.EventEmitter,ui=function(){};function b(e){var t=this;mr.call(this),W.polluteGlobalNamespace(),this.id="a"+dr.string(6);var r=si.addQuery(e,"c="+encodeURIComponent(W.WPrefix+"."+this.id));u[W.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},b.timeout)}ai(b,mr);b.prototype.abort=function(){if(u[W.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};b.timeout=35e3;b.scriptErrorTimeout=1e3;b.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};b.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};b.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete u[W.WPrefix][this.id]};b.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},b.scriptErrorTimeout))};b.prototype._createScript=function(e){var t=this,r=this.script=u.document.createElement("script"),n;if(r.id="a"+dr.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(ui("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=!0;try{r.onclick()}catch{}}r&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&u.document.attachEvent)if(oi.isOpera())n=this.script2=u.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var i=u.document.getElementsByTagName("head")[0];i.insertBefore(r,i.firstChild),n&&i.insertBefore(n,i.firstChild)};var li=b,ci=q,gt=y,fi=function(){},g,J;function hi(e){try{return u.document.createElement('<iframe name="'+e+'">')}catch{var t=u.document.createElement("iframe");return t.name=e,t}}function pi(){g=u.document.createElement("form"),g.style.display="none",g.style.position="absolute",g.method="POST",g.enctype="application/x-www-form-urlencoded",g.acceptCharset="UTF-8",J=u.document.createElement("textarea"),J.name="d",g.appendChild(J),u.document.body.appendChild(g)}var di=function(e,t,r){g||pi();var n="a"+ci.string(8);g.target=n,g.action=gt.addQuery(gt.addPath(e,"/jsonp_send"),"i="+n);var i=hi(n);i.id=n,i.style.display="none",g.appendChild(i);try{J.value=t}catch{}g.submit();var o=function(s){i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){i.parentNode.removeChild(i),i=null},500),J.value="",r(s))};return i.onerror=function(){o()},i.onload=function(){o()},i.onreadystatechange=function(s){fi("onreadystatechange",n,i.readyState),i.readyState==="complete"&&o()},function(){o(new Error("Aborted"))}},mi=p,vr=Mt,vi=li,gi=di;function P(e){if(!P.enabled())throw new Error("Transport created when disabled");vr.call(this,e,"/jsonp",gi,vi)}mi(P,vr);P.enabled=function(){return!!u.document};P.transportName="jsonp-polling";P.roundTrips=1;P.needBody=!0;var bi=P,yi=[on,Tn,Yt,ft,xe(ft),dt,xe(dt),mt,ii,xe(mt),bi],G=Array.prototype,Ze=Object.prototype,wi=Function.prototype,z=String.prototype,Se=G.slice,Ke=Ze.toString,gr=function(e){return Ze.toString.call(e)==="[object Function]"},Ei=function(t){return Ke.call(t)==="[object Array]"},br=function(t){return Ke.call(t)==="[object String]"},_i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Be;_i?Be=function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:Be=function(e,t,r,n){!n&&t in e||(e[t]=r)};var ie=function(e,t,r){for(var n in t)Ze.hasOwnProperty.call(t,n)&&Be(e,n,t[n],r)},yr=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function xi(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function Si(e){return e>>>0}function $e(){}ie(wi,{bind:function(t){var r=this;if(!gr(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=Se.call(arguments,1),i=function(){if(this instanceof c){var f=r.apply(this,n.concat(Se.call(arguments)));return Object(f)===f?f:this}else return r.apply(t,n.concat(Se.call(arguments)))},o=Math.max(0,r.length-n.length),s=[],a=0;a<o;a++)s.push("$"+a);var c=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return r.prototype&&($e.prototype=r.prototype,c.prototype=new $e,$e.prototype=null),c}});ie(Array,{isArray:Ei});var bt=Object("a"),wr=bt[0]!=="a"||!(0 in bt),$i=function(t){var r=!0,n=!0;return t&&(t.call("foo",function(i,o,s){typeof s!="object"&&(r=!1)}),t.call([1],function(){n=typeof this=="string"},"x")),!!t&&r&&n};ie(G,{forEach:function(t){var r=yr(this),n=wr&&br(this)?this.split(""):r,i=arguments[1],o=-1,s=n.length>>>0;if(!gr(t))throw new TypeError;for(;++o<s;)o in n&&t.call(i,n[o],o,r)}},!$i(G.forEach));var Oi=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;ie(G,{indexOf:function(t){var r=wr&&br(this)?this.split(""):yr(this),n=r.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=xi(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in r&&r[i]===t)return i;return-1}},Oi);var yt=z.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;z.split=function(t,r){var n=this;if(t===void 0&&r===0)return[];if(Ke.call(t)!=="[object RegExp]")return yt.call(this,t,r);var i=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),s=0,a,c,f,d;for(t=new RegExp(t.source,o+"g"),n+="",e||(a=new RegExp("^"+t.source+"$(?!\\s)",o)),r=r===void 0?-1>>>0:Si(r);(c=t.exec(n))&&(f=c.index+c[0].length,!(f>s&&(i.push(n.slice(s,c.index)),!e&&c.length>1&&c[0].replace(a,function(){for(var l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(c[l]=void 0)}),c.length>1&&c.index<n.length&&G.push.apply(i,c.slice(1)),d=c[0].length,s=f,i.length>=r)));)t.lastIndex===c.index&&t.lastIndex++;return s===n.length?(d||!t.test(""))&&i.push(""):i.push(n.slice(s)),i.length>r?i.slice(0,r):i}}():"0".split(void 0,0).length&&(z.split=function(t,r){return t===void 0&&r===0?[]:yt.call(this,t,r)});var Ti=z.substr,Ii="".substr&&"0b".substr(-1)!=="b";ie(z,{substr:function(t,r){return Ti.call(this,t<0&&(t=this.length+t)<0?0:t,r)}},Ii);var ue=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Oe,Ri=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,function(i){return r[i]="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,r},Ci={quote:function(e){var t=JSON.stringify(e);return ue.lastIndex=0,ue.test(t)?(Oe||(Oe=Ri(ue)),t.replace(ue,function(r){return Oe[r]})):t}},Te=function(){},ji=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i&&!(i.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(i.transportName)===-1){Te("not in whitelist",i.transportName);return}i.enabled(r)?(Te("enabled",i.transportName),n.main.push(i),i.facadeTransport&&n.facade.push(i.facadeTransport)):Te("disabled",i.transportName)}}),n}}},Me={};["log","debug","warn"].forEach(function(e){var t;try{t=u.console&&u.console[e]&&u.console[e].apply}catch{}Me[e]=t?function(){return u.console[e].apply(u.console,arguments)}:e==="log"?function(){}:Me.log});var Ai=Me;function U(e){this.type=e}U.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this};U.prototype.stopPropagation=function(){};U.prototype.preventDefault=function(){};U.CAPTURING_PHASE=1;U.AT_TARGET=2;U.BUBBLING_PHASE=3;var Ye=U,Er=u.location||{protocol:"http:",href:"http://localhost/",hash:""},Ni=p,_r=Ye;function xr(){_r.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}Ni(xr,_r);var ki=xr,Li=p,Sr=Ye;function $r(e){Sr.call(this),this.initEvent("message",!1,!1),this.data=e}Li($r,Sr);var Pi=$r,Or=m.EventEmitter,Ui=p;function oe(){var e=this;Or.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},oe.timeout)}Ui(oe,Or);oe.prototype.close=function(){clearTimeout(this.to)};oe.timeout=2e3;var qi=oe,Tr=m.EventEmitter,Xi=p,Bi=Ve;function et(e,t){Tr.call(this);var r=this,n=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(i,o){var s,a;if(i===200){if(a=+new Date-n,o)try{s=JSON.parse(o)}catch{}Bi.isObject(s)||(s={})}r.emit("finish",s,a),r.removeAllListeners()})}Xi(et,Tr);et.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var Ir=et,Ie,wt;function Rr(){if(wt)return Ie;wt=1;var e=p,t=m.EventEmitter,r=V,n=Ir;function i(o){var s=this;t.call(this),this.ir=new n(o,r),this.ir.once("finish",function(a,c){s.ir=null,s.emit("message",JSON.stringify([a,c]))})}return e(i,t),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Ie=i,Ie}var Cr=m.EventEmitter,Mi=p,Di=A,jr=ur,Hi=Rr();function be(e,t){var r=this;Cr.call(this);var n=function(){var i=r.ifr=new jr(Hi.transportName,t,e);i.once("message",function(o){if(o){var s;try{s=JSON.parse(o)}catch{r.emit("finish"),r.close();return}var a=s[0],c=s[1];r.emit("finish",a,c)}r.close()}),i.once("close",function(){r.emit("finish"),r.close()})};u.document.body?n():Di.attachEvent("load",n)}Mi(be,Cr);be.enabled=function(){return jr.enabled()};be.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var Wi=be,Ar=m.EventEmitter,Ji=p,Fi=y,Et=Qe,_t=ge,Gi=V,zi=qi,xt=Wi,le=Ir;function R(e,t){var r=this;Ar.call(this),setTimeout(function(){r.doXhr(e,t)},0)}Ji(R,Ar);R._getReceiver=function(e,t,r){return r.sameOrigin?new le(t,Gi):_t.enabled?new le(t,_t):Et.enabled&&r.sameScheme?new le(t,Et):xt.enabled()?new xt(e,t):new le(t,zi)};R.prototype.doXhr=function(e,t){var r=this,n=Fi.addPath(e,"/info");this.xo=R._getReceiver(e,n,t),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},R.timeout),this.xo.once("finish",function(i,o){r._cleanup(!0),r.emit("finish",i,o)})};R.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};R.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};R.timeout=8e3;var Qi=R,Re,St;function Vi(){if(St)return Re;St=1;var e=ee;function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,n){e.postMessage("c",JSON.stringify([r,n]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Re=t,Re}var Ce,$t;function Zi(){if($t)return Ce;$t=1;var e=y,t=A,r=Vi(),n=Rr(),i=ee,o=Er,s=function(){};return Ce=function(a,c){var f={};c.forEach(function(l){l.facadeTransport&&(f[l.facadeTransport.transportName]=l.facadeTransport)}),f[n.transportName]=n;var d;a.bootstrap_iframe=function(){var l;i.currentWindowId=o.hash.slice(1);var v=function(T){if(T.source===parent&&(typeof d>"u"&&(d=T.origin),T.origin===d)){var E;try{E=JSON.parse(T.data)}catch{s("bad json",T.data);return}if(E.windowId===i.currentWindowId)switch(E.type){case"s":var I;try{I=JSON.parse(E.data)}catch{s("bad json",E.data);break}var se=I[0],rt=I[1],ye=I[2],we=I[3];if(se!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+se+'", the iframe: "'+a.version+'".');if(!e.isOriginEqual(ye,o.href)||!e.isOriginEqual(we,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+ye+", "+we+")");l=new r(new f[rt](ye,we));break;case"m":l._send(E.data);break;case"c":l&&l._close(),l=null;break}}};t.attachEvent("message",v),i.postMessage("s")}},Ce}var Ki=kt,Yi=p,Ot=q,eo=Ci,H=y,to=A,ro=ji,no=Ve,io=Z,oo=Ai,tt=Ye,Nr=Lt,ce=Er,so=ki,Tt=Pi,ao=Qi,x=function(){},kr;function h(e,t,r){if(!(this instanceof h))return new h(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");Nr.call(this),this.readyState=h.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&oo.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return Ot.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||Ot.numberString(1e3);var i=new Ki(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var o=i.protocol==="https:";if(ce.protocol==="https:"&&!o&&!H.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var s=t.sort();s.forEach(function(c,f){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(f<s.length-1&&c===s[f+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var a=H.getOrigin(ce.href);this._origin=a?a.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,x("using url",this.url),this._urlInfo={nullOrigin:!io.hasDomain(),sameOrigin:H.isOriginEqual(this.url,ce.href),sameScheme:H.isSchemeEqual(this.url,ce.href)},this._ir=new ao(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}Yi(h,Nr);function Lr(e){return e===1e3||e>=3e3&&e<=4999}h.prototype.close=function(e,t){if(e&&!Lr(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===h.CLOSING||this.readyState===h.CLOSED)){var r=!0;this._close(e||1e3,t||"Normal closure",r)}};h.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===h.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===h.OPEN&&this._transport.send(eo.quote(e))};h.version=nr();h.CONNECTING=0;h.OPEN=1;h.CLOSING=2;h.CLOSED=3;h.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=no.extend(e,this._urlInfo);var r=kr.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,x(this._transports.length+" enabled transports"),this._connect()};h.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(x("attempt",e.transportName),e.needBody&&(!u.document.body||typeof u.document.readyState<"u"&&u.document.readyState!=="complete"&&u.document.readyState!=="interactive")){this._transports.unshift(e),to.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var r=H.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[e.transportName],i=new e(r,this._transUrl,n);i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,this._transport=i;return}this._close(2e3,"All transports failed",!1)};h.prototype._transportTimeout=function(){this.readyState===h.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};h.prototype._transportMessage=function(e){var t=this,r=e.slice(0,1),n=e.slice(1),i;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new tt("heartbeat")),x("heartbeat",this.transport);return}if(n)try{i=JSON.parse(n)}catch{}if(!(typeof i>"u"))switch(r){case"a":Array.isArray(i)&&i.forEach(function(o){x("message",t.transport),t.dispatchEvent(new Tt(o))});break;case"m":x("message",this.transport),this.dispatchEvent(new Tt(i));break;case"c":Array.isArray(i)&&i.length===2&&this._close(i[0],i[1],!0);break}};h.prototype._transportClose=function(e,t){if(x("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Lr(e)&&e!==2e3&&this.readyState===h.CONNECTING){this._connect();return}this._close(e,t)};h.prototype._open=function(){x("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===h.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=h.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new tt("open")),x("connected",this.transport)):this._close(1006,"Server lost session")};h.prototype._close=function(e,t,r){x("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===h.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=h.CLOSING,setTimeout((function(){this.readyState=h.CLOSED,n&&this.dispatchEvent(new tt("error"));var i=new so;i.wasClean=r||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};h.prototype.countRTO=function(e){return e>100?4*e:300+e};var uo=function(e){return kr=ro(e),Zi()(h,e),h},lo=yi,Pr=uo(lo);"_sockjs_onload"in u&&setTimeout(u._sockjs_onload,1);const co=qr(Pr),ho=Xr({__proto__:null,default:co},[Pr]);export{ho as e};
//# sourceMappingURL=entry-ci75H5hU.js.map
